CXXFLAGS := -std=gnu++11 -Wall -Werror -pedantic -ggdb3
CXX 	 := g++
TIMER	 := -lrt

TARGETS 	:= rainfall_seq rainfall_pt
DEPENDENCY	:= landscape
OBJECTS 	:= $(TARGETS:=.o) landscape.o

.PHONY: all clean depend
all: $(TARGETS)

$(TARGETS): %: %.o landscape.o
	$(CXX) $(CXXFLAGS) -o $@ $< landscape.o

$(TARGETS:=.o): %.o: %.cpp 
	$(CXX) $(CXXFLAGS) $(TIMER) -o $@ -c $< 

landscape.o: landscape.cpp
	$(CXX) $(CXXFLAGS) -o $@ -c $<

clean:
	rm -f *~ $(TARGETS) $(OBJECTS) test

depend:
	makedepend landscape.cpp $(TARGETS:=.cpp)

# Only for debug purpose
test: test.cpp landscape.cpp
	$(CXX) $(CXXFLAGS) -o test test.cpp landscape.cpp

# Generated by makedepend
landscape.o: landscape.hpp
